locate命令
===============

.. contents:: Sections:
  :local:
  :depth: 2

概述
------------

``locate`` 命令和 ``slocate`` 命令都用来查找文件或目录。

``locate`` 命令其实是 ``find -name`` 的另一种写法，但是要 **比后者快得多** ， *原因* 在于它不搜索具体目录，而是搜索一个数据库 ``/var/lib/locatedb`` ，这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用 ``locate`` 命令 **查不到最新变动过的文件** 。为了避免这种情况，可以在使用 ``locate`` 之前，先使用 ``updatedb`` 命令，手动更新数据库。

命令格式
-----------

::

   locate/slocate(选项)(参数)

命令功能
-----------

``locate`` 命令可以在搜寻数据库时快速找到档案，数据库由 ``updatedb`` 程序来更新，``updatedb`` 是由 **cron daemon** 周期性建立的， ``locate`` 命令在搜寻数据库时比由整个由硬盘资料来搜寻资料来得快，但较差劲的是 ``locate`` 所找到的档案若是最近才建立或 刚更名的，可能会找不到，在内定值中，  ``updatedb`` 每天会跑一次，可以由修改 ``crontab`` 来更新设定值。

命令参数
------------

-e   将排除在寻找的范围之外。

-1  如果 是 1．则启动安全模式。在安全模式下，使用者不会看到权限无法看到	的档案。这会始速度减慢，因为 locate 必须至实际的档案系统中取得档案的	权限资料。

-f   将特定的档案系统排除在外，例如我们没有到理要把 proc 档案系统中的档案	放在资料库中。

-q  安静模式，不会显示任何错误讯息。

-n  至多显示 n个输出。

-r  使用正规运算式 做寻找的条件。

-o  指定资料库存的名称。

-d  指定资料库的路径

-h  显示辅助讯息

-V  显示程式的版本讯息

实例
--------

1. 查找和pwd相关的所有文件

   ::
   
      locate pwd
   
2. 搜索etc目录下所有以sh开头的文件

   ::
   
      locate /etc/sh   